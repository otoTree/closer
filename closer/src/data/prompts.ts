import { QuestionPrompt } from './types';



// 构建AI提示词
export const buildPrompt = (params: QuestionPrompt): string => {
  const basePrompt = `请生成一个关于爱情和两人关系的问题。`;
  
  return `${basePrompt}
要求：
1. 只生成一个问题，不要生成多个问题
2. 问题要简洁明了，控制在30字以内
3. 带有适度的暧昧和浪漫色彩
4. 能引发两人之间的深入交流
5. 直接返回问题内容，不要任何额外说明或解释
6. 不要使用问号以外的标点符号
${params.context ? `\n额外要求：${params.context}` : ''}`;
};

// 预设题目（作为备用）
export const presetQuestions = {
  couple: [
    '在你心中，什么样的瞬间最能定义我们之间的化学反应？',
    '如果爱情是一种艺术，你觉得我们正在创作什么样的作品？',
    '你认为理性和感性在爱情中应该如何平衡？',
    '在深夜的对话中，你最想和我探讨什么话题？',
    '你觉得我们之间最微妙而美好的暧昧时刻是什么？',
    '如果可以读懂彼此的心思，你最想知道我在想什么？',
    '你认为两个人在一起最重要的是心灵契合还是生活默契？',
    '在你看来，我们的关系中哪些细节最能体现深层的理解？',
    '你觉得什么样的对话能让两个人的心更加贴近？',
    '如果用一种颜色来形容我们的关系，你会选择什么？为什么？',
    '你认为真正的亲密是什么？是身体的接触还是心灵的共鸣？',
    '在你心中，什么样的爱情观念最能打动你？'
  ],
  friendship: [
    '在你心中，什么样的瞬间最能定义我们之间的化学反应？',
    '如果爱情是一种艺术，你觉得我们正在创作什么样的作品？',
    '你认为理性和感性在爱情中应该如何平衡？',
    '在深夜的对话中，你最想和我探讨什么话题？',
    '你觉得我们之间最微妙而美好的暧昧时刻是什么？',
    '如果可以读懂彼此的心思，你最想知道我在想什么？',
    '你认为两个人在一起最重要的是心灵契合还是生活默契？',
    '在你看来，我们的关系中哪些细节最能体现深层的理解？',
    '你觉得什么样的对话能让两个人的心更加贴近？',
    '如果用一种颜色来形容我们的关系，你会选择什么？为什么？',
    '你认为真正的亲密是什么？是身体的接触还是心灵的共鸣？',
    '在你心中，什么样的爱情观念最能打动你？'
  ]
};

// 获取随机预设题目
export const getRandomPresetQuestion = (/* category: 'couple' | 'friendship' */): string => {
  // 现在两个类别都使用相同的爱情主题题目
  const questions = presetQuestions.couple;
  return questions[Math.floor(Math.random() * questions.length)];
};